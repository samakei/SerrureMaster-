import{r as e,a as t,R as r}from"./react-vendor-C11u62No.js";import{S as s,X as n,a,T as i,b as o,P as l,c,A as d,C as u,U as E,L as _,M as I,d as p,e as h,f,g as T,h as m,F as N,i as A,j as O,B as g,k as S,l as R,m as b,n as x,o as y,W as D,Z as v,p as L,q as C,r as U,s as P,Q as M,t as w,u as j,v as G,w as H,x as F,y as B,z as Y,D as V}from"./icons-D4y1Z8Z8.js";import{c as k}from"./supabase-DUEh_P_2.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var K={exports:{}},q={},$=e,J=Symbol.for("react.element"),W=Symbol.for("react.fragment"),X=Object.prototype.hasOwnProperty,z=$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z={key:!0,ref:!0,__self:!0,__source:!0};function Q(e,t,r){var s,n={},a=null,i=null;for(s in void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(i=t.ref),t)X.call(t,s)&&!Z.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===n[s]&&(n[s]=t[s]);return{$$typeof:J,type:e,key:a,ref:i,props:n,_owner:z.current}}q.Fragment=W,q.jsx=Q,q.jsxs=Q,K.exports=q;var ee=K.exports,te={},re=t;te.createRoot=re.createRoot,te.hydrateRoot=re.hydrateRoot;const se=e.createContext(void 0);var ne=(e=>(e.PDF="PDF",e.VIDEO="VIDEO",e.BUNDLE="BUNDLE",e))(ne||{});const ae="SerrureMaster",ie="/images/p1.jpg",oe=[{id:"p1_door_slammed",title:"Urgence : Porte Claquée",description:"Un plan structuré pour analyser une porte claquée, comprendre les techniques professionnelles d’ouverture fine et éviter les erreurs irréversibles. Économisez jusqu’à 400€ de dépannage en tentant l’intervention dans le cadre légal et technique approprié.",price:100,originalPrice:500,features:["Vidéo HD : technique professionnelle sans perçage","PDF Diagnostic : vérifier si la porte est réellement claquée","Guide pratique : gestes autorisés / gestes interdits","Assistance WhatsApp incluse (validation ou STOP immédiat)"],compatibility:{valid:["Porte claquée (non verrouillée)","Porte blindée claquée sans verrouillage"],invalid:["Porte fermée à clé (verrouillée)"]},type:ne.BUNDLE,image:"/images/p1.jpg",stripePriceId:"price_1PqXyZA2eZvKYlo2kR9uWq5a",currentResource:{id:"res_p1_v1",productId:"p1_door_slammed",fileName:"Guide_Ouverture_Radio_Pro_v1.pdf",filePath:"secure-pdfs/p1/guide.pdf",fileSize:"2.4 MB",status:"published",version:1,lastUpdated:"2023-11-15T10:00:00Z"}},{id:"p2_key_broken",title:"Clé Cassée dans le Barillet",description:"Formation vidéo pour comprendre comment tenter une extraction sécurisée du fragment cassé, sans aggraver le blocage. Identifiez quand intervenir et quand arrêter pour préserver votre cylindre. Assistance WhatsApp pour validation visuelle.",price:100,originalPrice:500,features:["Vidéo HD : protocole d’extraction sécurisé","Guide PDF : cas autorisés / cas interdits","Section “STOP” : quand ne surtout pas insister","Assistance WhatsApp incluse (validation sur photo)"],compatibility:{valid:["Clé cassée visible ou accessible"],invalid:["Cylindre bloqué ou endommagé","Tentative déjà forcée"]},type:ne.BUNDLE,image:"/images/p2.jpg",stripePriceId:"price_1PqXzQB2eZvKYlo2mL8vTq4b",currentResource:{id:"res_p2_v1_draft",productId:"p2_key_broken",fileName:"Guide_Extraction_Key_DRAFT.pdf",filePath:"secure-pdfs/p2/draft.pdf",fileSize:"1.8 MB",status:"draft",version:.9,lastUpdated:"2023-12-20T14:30:00Z"}},{id:"p3_cylinder_replace",title:"Remplacer son Cylindre",description:"Tutoriel technique pour changer un cylindre standard sans erreur de mesure ni main-d’œuvre excessive. Comprendre les dimensions critiques, les outils nécessaires et les pièges à éviter. Idéal après emménagement ou mise à niveau de sécurité.",price:100,originalPrice:500,features:["Tutoriel vidéo : démontage sécurisé","PDF mesures exactes (intérieur / extérieur)","Checklist outils nécessaires (basiques)","Assistance WhatsApp en cas de doute"],compatibility:{valid:["Cylindre standard"],invalid:["Serrure spécifique ou système complexe"]},type:ne.VIDEO,image:"/images/p3.jpg",stripePriceId:"price_1PqY1RC2eZvKYlo2nN7wUr3c",currentResource:null},{id:"p4_security_pack",title:"Changer sa Serrure Complète",description:"Formation complète pour remplacer une serrure entière sans main-d’œuvre professionnelle. Maîtrisez les mesures précises, le démontage sécurisé et les critères de sélection certifiés. Gain immédiat en autonomie et budget.",price:100,originalPrice:500,features:["Mesure précise avant achat","Démontage & remontage pas à pas (Vidéo)","Guide d’achat : critères A2P (sans marque imposée)","Assistance WhatsApp incluse"],compatibility:{valid:["Remplacement simple"],invalid:["Travaux lourds ou structurels"]},type:ne.BUNDLE,image:"/images/p4.jpg",stripePriceId:"price_1PqY2SD2eZvKYlo2oP6xVs2d",currentResource:{id:"res_p4_v2",productId:"p4_security_pack",fileName:"Tuto_Remplacement_Serrure_v2.pdf",filePath:"secure-pdfs/p4/guide.pdf",fileSize:"3.1 MB",status:"published",version:2,lastUpdated:"2023-10-05T09:00:00Z"}},{id:"p5_audit_security",title:"Audit Sécurité & Renforcement",description:"Méthodologie professionnelle pour évaluer vos vulnérabilités et prioriser les renforcements efficaces sans travaux lourds. Obtenez un plan d’action personnalisé avec budget maîtrisé et assistance technique pour validation à distance.",price:100,originalPrice:500,features:["Audit guidé (photos + questionnaire)","Plan d’action priorisé (24h / 7j / 30j)","Budget maîtrisé & erreurs à éviter","Assistance WhatsApp de validation"],compatibility:{valid:["Logement ou local standard"],invalid:["Travaux de blindage structurel"]},type:ne.BUNDLE,image:"/images/p5.jpg",stripePriceId:"price_1PqY3TE2eZvKYlo2qR5yWt1e",currentResource:null},{id:"p6_survival_kit",title:"Pack : Kit de Prévention",description:"Sélection professionnelle du matériel indispensable pour gérer les situations courantes sans stress. Liste vérifiée, liens d’achat directs, aucun gadget inutile. Économie immédiate garantie.",price:29,originalPrice:145,features:["Liens d’achat directs (qualité pro)","Matériel réellement utile (pas de gadgets)","Économie immédiate"],type:ne.BUNDLE,image:"/images/p6.jpg",stripePriceId:"price_1PqY4UF2eZvKYlo2rS4zXu0f",currentResource:{id:"res_p6_kit",productId:"p6_survival_kit",fileName:"Liste_Materiel_Pro.pdf",filePath:"secure-pdfs/p6/list.pdf",fileSize:"0.5 MB",status:"published",version:1,lastUpdated:"2023-09-01T12:00:00Z"}}],le="user_123_abc",ce=e.createContext(void 0);r.memo(({onCtaClick:t})=>{const{heroImage:r}=(()=>{const t=e.useContext(ce);if(void 0===t)throw new Error("useSettings must be used within a SettingsProvider");return t})(),s=e.useMemo(()=>oe[0].image,[]);return ee.jsxs("div",{className:"relative bg-slate-950 overflow-hidden pt-10 pb-20 lg:pt-20 lg:pb-28",children:[ee.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full z-0 pointer-events-none",children:[ee.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-orange-600/10 rounded-full blur-[120px] mix-blend-screen animate-pulse-slow"}),ee.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[600px] h-[600px] bg-indigo-600/20 rounded-full blur-[120px] mix-blend-screen"}),r&&ee.jsx("img",{src:r,className:"absolute inset-0 w-full h-full object-cover opacity-10 mix-blend-overlay",alt:"Background Texture"})]}),ee.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:ee.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[ee.jsxs("div",{className:"text-left space-y-8 animate-fade-in-up",children:[ee.jsxs("div",{className:"inline-flex items-center space-x-2 bg-slate-900/80 border border-slate-700 rounded-full px-4 py-1.5 backdrop-blur-md",children:[ee.jsx(a,{className:"w-4 h-4 text-orange-500"}),ee.jsx("span",{className:"text-slate-300 text-xs font-bold tracking-wider uppercase",children:"Protocole Certifié • Non Destructif"})]}),ee.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-extrabold text-white leading-[1.1] tracking-tight",children:["Porte claquée ? ",ee.jsx("br",{}),"La méthode officielle pour ",ee.jsx("br",{className:"hidden sm:block"}),ee.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-amber-200",children:"agir sans tout casser."})]}),ee.jsxs("p",{className:"text-base sm:text-lg text-slate-400 max-w-xl leading-relaxed",children:["Avant d'appeler un dépanneur, accédez au ",ee.jsx("strong",{children:"plan d'action vidéo"})," utilisé par les professionnels. Une solution légale et guidée pas à pas pour tenter l'ouverture vous-même."]}),ee.jsxs("div",{className:"bg-slate-900/60 border border-slate-800 rounded-xl overflow-hidden grid sm:grid-cols-2 text-sm shadow-xl",children:[ee.jsxs("div",{className:"p-5 border-b sm:border-b-0 sm:border-r border-slate-800 bg-green-900/20",children:[ee.jsxs("p",{className:"text-green-400 font-bold text-xs uppercase mb-3 flex items-center",children:[ee.jsx(p,{className:"w-4 h-4 mr-2"}),"Situation Compatible"]}),ee.jsxs("ul",{className:"space-y-2 text-slate-300",children:[ee.jsxs("li",{className:"flex items-start",children:[ee.jsx("span",{className:"mr-2 text-green-500",children:"•"})," Porte claquée (Clé oubliée à l'intérieur)"]}),ee.jsxs("li",{className:"flex items-start",children:[ee.jsx("span",{className:"mr-2 text-green-500",children:"•"})," Porte blindée claquée (non verrouillée)"]}),ee.jsxs("li",{className:"flex items-start",children:[ee.jsx("span",{className:"mr-2 text-green-500",children:"•"})," Clé cassée (morceau visible)"]})]})]}),ee.jsxs("div",{className:"p-5 bg-red-900/10",children:[ee.jsxs("p",{className:"text-red-400 font-bold text-xs uppercase mb-3 flex items-center",children:[ee.jsx(h,{className:"w-4 h-4 mr-2"}),"Strictement Impossible"]}),ee.jsxs("ul",{className:"space-y-2 text-slate-400",children:[ee.jsxs("li",{className:"flex items-start",children:[ee.jsx("span",{className:"mr-2 text-red-500",children:"•"})," Porte fermée à clé (Verrouillée)"]}),ee.jsxs("li",{className:"flex items-start",children:[ee.jsx("span",{className:"mr-2 text-red-500",children:"•"})," Serrure bloquée / vandalisée"]}),ee.jsxs("li",{className:"flex items-start",children:[ee.jsx("span",{className:"mr-2 text-red-500",children:"•"})," Perte de clé totale (si fermé à clé)"]})]})]})]}),ee.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-2",children:[ee.jsxs("button",{onClick:t,className:"group relative px-8 py-4 bg-orange-600 hover:bg-orange-500 text-white font-bold rounded-xl shadow-lg shadow-orange-900/40 transition-all hover:scale-[1.02] flex items-center justify-center overflow-hidden",children:[ee.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:animate-shimmer"}),ee.jsxs("div",{className:"flex flex-col items-start text-left",children:[ee.jsx("span",{className:"text-sm",children:"Obtenir le Protocole Vidéo"}),ee.jsx("span",{className:"text-[10px] font-normal opacity-90",children:"Accès immédiat sécurisé"})]}),ee.jsx(d,{className:"ml-4 w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),ee.jsxs("div",{className:"flex items-center justify-center gap-3 px-6 py-4 rounded-xl border border-slate-700 bg-slate-800/50 backdrop-blur-sm text-slate-300",children:[ee.jsx(f,{className:"w-5 h-5 text-green-500"}),ee.jsxs("div",{className:"flex flex-col",children:[ee.jsx("span",{className:"text-sm font-bold text-white",children:"Un doute ?"}),ee.jsx("span",{className:"text-[10px] text-slate-300",children:"Diagnostic IA Gratuit"})]})]})]}),ee.jsxs("div",{className:"flex items-start gap-2 opacity-60 max-w-lg",children:[ee.jsx(T,{className:"w-3 h-3 text-slate-400 mt-0.5 flex-shrink-0"}),ee.jsxs("p",{className:"text-[10px] text-slate-400 leading-tight",children:[ee.jsx("strong",{children:"Cadre légal :"})," Service pédagogique avec obligation de moyens. Ne constitue pas une garantie d'ouverture. L'utilisateur certifie être l'occupant légitime du logement."]})]})]}),ee.jsxs("div",{className:"relative hidden lg:block perspective-1000 group",children:[ee.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[350px] h-[650px] bg-gradient-to-tr from-orange-600/30 to-blue-600/30 rounded-full blur-[60px] animate-pulse-slow"}),ee.jsx("div",{className:"relative w-[300px] mx-auto transform rotate-y-12 rotate-z-2 group-hover:rotate-y-0 group-hover:rotate-z-0 transition-all duration-700 ease-out z-10",children:ee.jsxs("div",{className:"relative h-[620px] rounded-[3rem] bg-slate-900 border-[6px] border-slate-800 shadow-2xl overflow-hidden ring-1 ring-white/10",children:[ee.jsxs("div",{className:"absolute inset-0 bg-slate-950 flex flex-col",children:[ee.jsxs("div",{className:"h-14 w-full flex justify-between items-end px-6 pb-2 text-white/80 text-[10px] font-medium z-20",children:[ee.jsx("span",{children:"09:41"}),ee.jsxs("div",{className:"flex gap-1.5",children:[ee.jsx("div",{className:"h-2.5 w-2.5 bg-white/20 rounded-full"}),ee.jsx("div",{className:"h-2.5 w-2.5 bg-white/20 rounded-full"}),ee.jsx("div",{className:"h-2.5 w-4 bg-white/80 rounded-sm"})]})]}),ee.jsxs("div",{className:"px-6 py-4 border-b border-slate-800/50 flex justify-between items-center z-20 bg-slate-950/80 backdrop-blur",children:[ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-orange-500 to-pink-600 flex items-center justify-center shadow-lg shadow-orange-500/20",children:ee.jsx(m,{className:"w-4 h-4 text-white"})}),ee.jsx("span",{className:"font-bold text-white text-sm tracking-tight",children:"SerrureMaster"})]}),ee.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 border border-slate-700"})]}),ee.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[ee.jsxs("div",{className:"relative h-64 bg-slate-900 m-4 rounded-2xl overflow-hidden border border-slate-800 group-hover:border-orange-500/30 transition-colors",children:[ee.jsx("img",{src:s,className:"absolute inset-0 w-full h-full object-cover opacity-40 mix-blend-overlay",alt:"Secure Content",fetchpriority:"high"}),ee.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/50 to-transparent"}),ee.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-4",children:[ee.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-900/80 backdrop-blur border border-orange-500/50 flex items-center justify-center mb-3 shadow-[0_0_15px_rgba(249,115,22,0.3)] animate-pulse",children:ee.jsx(m,{className:"w-5 h-5 text-orange-500"})}),ee.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:"Guide : Porte Claquée"}),ee.jsx("p",{className:"text-orange-400 text-xs font-mono tracking-wider uppercase",children:"Contenu Sécurisé"})]}),ee.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-slate-800",children:ee.jsx("div",{className:"h-full w-1/3 bg-orange-500"})})]}),ee.jsxs("div",{className:"px-4 space-y-3",children:[ee.jsxs("div",{className:"h-16 rounded-xl bg-slate-900 border border-slate-800 flex items-center px-4 gap-3 opacity-60",children:[ee.jsx("div",{className:"w-8 h-8 rounded bg-slate-800 flex items-center justify-center",children:ee.jsx(N,{className:"w-4 h-4 text-slate-500"})}),ee.jsxs("div",{className:"flex-1",children:[ee.jsx("div",{className:"h-2 w-24 bg-slate-700 rounded mb-1.5"}),ee.jsx("div",{className:"h-1.5 w-16 bg-slate-800 rounded"})]}),ee.jsx(m,{className:"w-3 h-3 text-slate-600"})]}),ee.jsxs("div",{className:"h-16 rounded-xl bg-slate-900 border border-slate-800 flex items-center px-4 gap-3 opacity-40",children:[ee.jsx("div",{className:"w-8 h-8 rounded bg-slate-800 flex items-center justify-center",children:ee.jsx(A,{className:"w-4 h-4 text-slate-500"})}),ee.jsxs("div",{className:"flex-1",children:[ee.jsx("div",{className:"h-2 w-20 bg-slate-700 rounded mb-1.5"}),ee.jsx("div",{className:"h-1.5 w-12 bg-slate-800 rounded"})]}),ee.jsx(m,{className:"w-3 h-3 text-slate-600"})]})]}),ee.jsx("div",{className:"absolute bottom-8 left-4 right-4",children:ee.jsx("div",{className:"w-full py-3 bg-gradient-to-r from-orange-600 to-orange-500 rounded-xl text-center text-white text-xs font-bold shadow-lg shadow-orange-900/40 opacity-90",children:"Débloquer le Plan d'Action"})})]})]}),ee.jsx("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-tr from-transparent via-white/5 to-transparent rounded-[2.5rem] z-30"})]})}),ee.jsx("div",{className:"absolute top-[20%] -right-6 z-40 bg-slate-800/90 backdrop-blur border border-slate-700 p-3 rounded-xl shadow-xl animate-float delay-0",children:ee.jsxs("div",{className:"flex items-center gap-3",children:[ee.jsx("div",{className:"bg-green-500/20 p-2 rounded-full text-green-500 border border-green-500/30",children:ee.jsx(a,{className:"w-5 h-5"})}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-white text-xs font-bold",children:"Légal & Éthique"}),ee.jsx("p",{className:"text-[10px] text-slate-400",children:"Sans effraction"})]})]})}),ee.jsx("div",{className:"absolute bottom-[25%] -left-8 z-40 bg-slate-800/90 backdrop-blur border border-slate-700 p-3 rounded-xl shadow-xl animate-float delay-2000",children:ee.jsxs("div",{className:"flex items-center gap-3",children:[ee.jsx("div",{className:"bg-blue-500/20 p-2 rounded-full text-blue-400 border border-blue-500/30",children:ee.jsx(m,{className:"w-5 h-5"})}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-white text-xs font-bold",children:"Méthode Pro"}),ee.jsx("p",{className:"text-[10px] text-slate-400",children:"Accès immédiat"})]})]})})]})]})}),ee.jsx("style",{children:"\n        .perspective-1000 { perspective: 1000px; }\n        @keyframes blob {\n          0% { transform: translate(0px, 0px) scale(1); }\n          33% { transform: translate(30px, -50px) scale(1.1); }\n          66% { transform: translate(-20px, 20px) scale(0.9); }\n          100% { transform: translate(0px, 0px) scale(1); }\n        }\n        .animate-blob { animation: blob 7s infinite; }\n        .animate-shimmer { animation: shimmer 2s infinite; }\n        @keyframes shimmer { 100% { transform: translateX(100%); } }\n        @keyframes float { \n          0%, 100% { transform: translateY(0); } \n          50% { transform: translateY(-10px); } \n        }\n        .animate-float { animation: float 5s ease-in-out infinite; }\n        .rotate-y-12 { transform: rotateY(-12deg); }\n        .rotate-z-2 { transform: rotateZ(2deg); }\n      "})]})}).displayName="Hero";r.memo(({product:t,isOwned:r})=>{const{addToCart:s,items:n}=(()=>{const t=e.useContext(se);if(void 0===t)throw new Error("useCart must be used within a CartProvider");return t})(),a=e.useMemo(()=>n.some(e=>e.id===t.id),[n,t.id]);if(!t)return null;const i=e.useMemo(()=>t.image||"/images/p1.jpg",[t.image]),o=e.useMemo(()=>t.description||"Description non disponible",[t.description]),l=e.useCallback(()=>{s(t)},[s,t]);return ee.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-4 shadow-lg hover:shadow-2xl hover:shadow-orange-500/30 hover:border-orange-500 hover:-translate-y-3 hover:rotate-1 transition-all duration-300 flex flex-col h-full relative overflow-hidden group cursor-pointer",children:[ee.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-400/0 to-purple-400/0 group-hover:from-orange-400/20 group-hover:to-purple-400/10 transition-all duration-300 pointer-events-none rounded-2xl"}),ee.jsxs("div",{className:"h-32 sm:h-40 -mx-4 -mt-4 mb-4 overflow-hidden relative bg-gradient-to-br from-orange-50 to-purple-50 rounded-t-2xl group-hover:shadow-lg transition-all duration-300",children:[ee.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/80 via-transparent to-transparent z-10"}),ee.jsx("img",{src:i,alt:t.title||"Produit",decoding:"async",onError:e=>{e.target.src="/images/p1.jpg"},className:"w-full h-full object-cover grayscale-0 group-hover:grayscale-0 brightness-100 group-hover:brightness-110 saturate-100 group-hover:saturate-125 group-hover:scale-110 group-hover:rotate-2 transition-all duration-500 ease-out"})]}),ee.jsxs("div",{className:"flex-1 flex flex-col z-10",children:[ee.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-900 mb-2 group-hover:text-orange-600 group-hover:translate-x-1 transition-all duration-200 line-clamp-2 min-h-[3rem] flex items-center leading-tight",children:t.title}),ee.jsx("p",{className:"text-slate-600 mb-3 text-xs sm:text-sm leading-relaxed line-clamp-3 min-h-[3.5rem]",children:o}),t.compatibility?ee.jsx("div",{className:"mb-3 bg-gradient-to-br from-slate-50 to-slate-100/50 p-3 rounded-xl border border-slate-200 flex-1 shadow-sm group-hover:border-orange-200 transition-colors duration-300",children:ee.jsxs("ul",{className:"text-xs sm:text-sm text-slate-700 space-y-1.5",children:[t.compatibility.valid.slice(0,2).map((e,t)=>ee.jsxs("li",{className:"flex gap-2 items-start",children:[ee.jsx(p,{className:"text-green-500 w-4 h-4 mt-0.5 flex-shrink-0"}),ee.jsx("span",{className:"text-slate-800 line-clamp-1",children:e})]},`v-${t}`)),t.compatibility.invalid.slice(0,1).map((e,t)=>ee.jsxs("li",{className:"flex gap-2 items-start opacity-60",children:[ee.jsx(h,{className:"text-red-400 w-4 h-4 mt-0.5 flex-shrink-0"}),ee.jsx("span",{className:"text-slate-400 line-clamp-1",children:e})]},`i-${t}`))]})}):ee.jsx("div",{className:"mb-3 flex-1 bg-slate-50 rounded-xl border border-slate-200 opacity-0"}),ee.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-2.5 text-[11px] font-semibold text-slate-700 mb-3 border border-green-200 flex items-center justify-between shadow-sm group-hover:scale-105 group-hover:shadow-md transition-all duration-200",children:ee.jsxs("span",{className:"flex items-center gap-2",children:[ee.jsx(f,{className:"text-green-600 w-4 h-4 group-hover:animate-pulse"}),"Assistance Pro incluse"]})}),ee.jsxs("div",{className:"flex items-center justify-between mt-auto pt-3 border-t-2 border-slate-100 group-hover:border-orange-200 transition-colors duration-300",children:[ee.jsxs("div",{className:"flex flex-col group-hover:scale-105 transition-transform duration-200",children:[ee.jsxs("span",{className:"text-slate-900 text-2xl sm:text-3xl font-black tracking-tight",children:[t.price," €"]}),t.originalPrice&&ee.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[ee.jsxs("span",{className:"text-slate-400 line-through text-xs font-medium",children:[t.originalPrice," €"]}),ee.jsxs("span",{className:"bg-green-100 text-green-700 text-[10px] font-bold px-1.5 py-0.5 rounded-full animate-pulse",children:["-",Math.round((t.originalPrice-t.price)/t.originalPrice*100),"%"]})]})]}),ee.jsx("button",{onClick:l,disabled:r||a,className:"px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg font-bold text-xs sm:text-sm transition-all shadow-lg transform active:scale-90 flex items-center group-hover:scale-110 "+(r?"bg-gradient-to-r from-green-50 to-emerald-50 text-green-700 border-2 border-green-300 cursor-default shadow-green-200":a?"bg-gradient-to-r from-slate-100 to-slate-200 text-slate-700 border-2 border-slate-300 cursor-default shadow-slate-300":"bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 shadow-orange-500/50 hover:shadow-orange-500/80 border-2 border-orange-400 hover:rotate-3"),children:r?ee.jsxs(ee.Fragment,{children:[ee.jsx(O,{className:"w-4 h-4 mr-2"})," Acquis"]}):a?ee.jsxs(ee.Fragment,{children:[ee.jsx(p,{className:"w-4 h-4 mr-2"})," Au panier"]}):"Ajouter au panier"})]})]})]})}).displayName="ProductCard";var de,ue,Ee,_e,Ie,pe,he,fe,Te,me,Ne,Ae,Oe,ge,Se,Re,be,xe,ye,De,ve,Le,Ce,Ue,Pe,Me,we,je,Ge,He,Fe,Be,Ye,Ve,ke,Ke,qe,$e,Je,We,Xe,ze,Ze,Qe,et,tt,rt,st,nt,at,it,ot,lt,ct,dt,ut,Et,_t,It,pt,ht,ft,Tt,mt,Nt,At,Ot,gt,St,Rt,bt,xt,yt,Dt,vt,Lt,Ct,Ut,Pt,Mt,wt,jt,Gt,Ht,Ft,Bt,Yt,Vt,kt,Kt,qt,$t,Jt,Wt,Xt,zt,Zt,Qt,er,tr,rr,sr,nr,ar,ir,or,lr,cr,dr,ur,Er,_r,Ir={};function pr(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r}function hr(e){return this instanceof hr?(this.v=e,this):new hr(e)}function fr(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,n=r.apply(e,t||[]),a=[];return s=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),i("next"),i("throw"),i("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),s[Symbol.asyncIterator]=function(){return this},s;function i(e,t){n[e]&&(s[e]=function(t){return new Promise(function(r,s){a.push([e,t,r,s])>1||o(e,t)})},t&&(s[e]=t(s[e])))}function o(e,t){try{(r=n[e](t)).value instanceof hr?Promise.resolve(r.value.v).then(l,c):d(a[0][2],r)}catch(s){d(a[0][3],s)}var r}function l(e){o("next",e)}function c(e){o("throw",e)}function d(e,t){e(t),a.shift(),a.length&&o(a[0][0],a[0][1])}}function Tr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],s=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(r){t[r]=e[r]&&function(t){return new Promise(function(s,n){!function(e,t,r,s){Promise.resolve(s).then(function(t){e({value:t,done:r})},t)}(s,n,(t=e[r](t)).done,t.value)})}}}(ue=de||(de={})).OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",ue.OUTCOME_OK="OUTCOME_OK",ue.OUTCOME_FAILED="OUTCOME_FAILED",ue.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED",(_e=Ee||(Ee={})).LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",_e.PYTHON="PYTHON",(pe=Ie||(Ie={})).SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",pe.SILENT="SILENT",pe.WHEN_IDLE="WHEN_IDLE",pe.INTERRUPT="INTERRUPT",(fe=he||(he={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",fe.STRING="STRING",fe.NUMBER="NUMBER",fe.INTEGER="INTEGER",fe.BOOLEAN="BOOLEAN",fe.ARRAY="ARRAY",fe.OBJECT="OBJECT",fe.NULL="NULL",(me=Te||(Te={})).API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",me.SIMPLE_SEARCH="SIMPLE_SEARCH",me.ELASTIC_SEARCH="ELASTIC_SEARCH",(Ae=Ne||(Ne={})).AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",Ae.NO_AUTH="NO_AUTH",Ae.API_KEY_AUTH="API_KEY_AUTH",Ae.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",Ae.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",Ae.OAUTH="OAUTH",Ae.OIDC_AUTH="OIDC_AUTH",(ge=Oe||(Oe={})).HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",ge.HTTP_IN_QUERY="HTTP_IN_QUERY",ge.HTTP_IN_HEADER="HTTP_IN_HEADER",ge.HTTP_IN_PATH="HTTP_IN_PATH",ge.HTTP_IN_BODY="HTTP_IN_BODY",ge.HTTP_IN_COOKIE="HTTP_IN_COOKIE",(Re=Se||(Se={})).PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",Re.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",Re.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",Re.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",Re.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",Re.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",Re.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH",(xe=be||(be={})).UNSPECIFIED="UNSPECIFIED",xe.BLOCKING="BLOCKING",xe.NON_BLOCKING="NON_BLOCKING",(De=ye||(ye={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",De.MODE_DYNAMIC="MODE_DYNAMIC",(Le=ve||(ve={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",Le.AUTO="AUTO",Le.ANY="ANY",Le.NONE="NONE",Le.VALIDATED="VALIDATED",(Ue=Ce||(Ce={})).THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",Ue.LOW="LOW",Ue.MEDIUM="MEDIUM",Ue.HIGH="HIGH",Ue.MINIMAL="MINIMAL",(Me=Pe||(Pe={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",Me.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",Me.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",Me.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",Me.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",Me.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",Me.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",Me.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",Me.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",Me.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",Me.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK",(je=we||(we={})).HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",je.SEVERITY="SEVERITY",je.PROBABILITY="PROBABILITY",(He=Ge||(Ge={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",He.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",He.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",He.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",He.BLOCK_NONE="BLOCK_NONE",He.OFF="OFF",(Be=Fe||(Fe={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",Be.STOP="STOP",Be.MAX_TOKENS="MAX_TOKENS",Be.SAFETY="SAFETY",Be.RECITATION="RECITATION",Be.LANGUAGE="LANGUAGE",Be.OTHER="OTHER",Be.BLOCKLIST="BLOCKLIST",Be.PROHIBITED_CONTENT="PROHIBITED_CONTENT",Be.SPII="SPII",Be.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",Be.IMAGE_SAFETY="IMAGE_SAFETY",Be.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",Be.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",Be.NO_IMAGE="NO_IMAGE",Be.IMAGE_RECITATION="IMAGE_RECITATION",Be.IMAGE_OTHER="IMAGE_OTHER",(Ve=Ye||(Ye={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",Ve.NEGLIGIBLE="NEGLIGIBLE",Ve.LOW="LOW",Ve.MEDIUM="MEDIUM",Ve.HIGH="HIGH",(Ke=ke||(ke={})).HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",Ke.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",Ke.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",Ke.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",Ke.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH",($e=qe||(qe={})).URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",$e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",$e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",$e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",$e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE",(We=Je||(Je={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",We.SAFETY="SAFETY",We.OTHER="OTHER",We.BLOCKLIST="BLOCKLIST",We.PROHIBITED_CONTENT="PROHIBITED_CONTENT",We.IMAGE_SAFETY="IMAGE_SAFETY",We.MODEL_ARMOR="MODEL_ARMOR",We.JAILBREAK="JAILBREAK",(ze=Xe||(Xe={})).TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",ze.ON_DEMAND="ON_DEMAND",ze.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT",(Qe=Ze||(Ze={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",Qe.TEXT="TEXT",Qe.IMAGE="IMAGE",Qe.AUDIO="AUDIO",(tt=et||(et={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",tt.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",tt.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",tt.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",(st=rt||(rt={})).TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",st.TUNING_MODE_FULL="TUNING_MODE_FULL",st.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER",(at=nt||(nt={})).ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",at.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",at.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",at.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",at.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",at.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",at.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO",(ot=it||(it={})).JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",ot.JOB_STATE_QUEUED="JOB_STATE_QUEUED",ot.JOB_STATE_PENDING="JOB_STATE_PENDING",ot.JOB_STATE_RUNNING="JOB_STATE_RUNNING",ot.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",ot.JOB_STATE_FAILED="JOB_STATE_FAILED",ot.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",ot.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",ot.JOB_STATE_PAUSED="JOB_STATE_PAUSED",ot.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",ot.JOB_STATE_UPDATING="JOB_STATE_UPDATING",ot.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",(ct=lt||(lt={})).TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",ct.TUNING_TASK_I2V="TUNING_TASK_I2V",ct.TUNING_TASK_T2V="TUNING_TASK_T2V",ct.TUNING_TASK_R2V="TUNING_TASK_R2V",(ut=dt||(dt={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",ut.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",ut.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",ut.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",ut.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH",(_t=Et||(Et={})).FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",_t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",_t.BALANCED="BALANCED",_t.PRIORITIZE_COST="PRIORITIZE_COST",(pt=It||(It={})).ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",pt.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER",(ft=ht||(ht={})).BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",ft.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",ft.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",ft.BLOCK_NONE="BLOCK_NONE",(mt=Tt||(Tt={})).DONT_ALLOW="DONT_ALLOW",mt.ALLOW_ADULT="ALLOW_ADULT",mt.ALLOW_ALL="ALLOW_ALL",(At=Nt||(Nt={})).auto="auto",At.en="en",At.ja="ja",At.ko="ko",At.hi="hi",At.zh="zh",At.pt="pt",At.es="es",(gt=Ot||(Ot={})).MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",gt.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",gt.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",gt.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",gt.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC",(Rt=St||(St={})).CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",Rt.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",Rt.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",Rt.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH",(xt=bt||(bt={})).SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",xt.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",xt.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",xt.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT",(Dt=yt||(yt={})).EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",Dt.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",Dt.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",Dt.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",Dt.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",Dt.EDIT_MODE_STYLE="EDIT_MODE_STYLE",Dt.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",Dt.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE",(Lt=vt||(vt={})).FOREGROUND="FOREGROUND",Lt.BACKGROUND="BACKGROUND",Lt.PROMPT="PROMPT",Lt.SEMANTIC="SEMANTIC",Lt.INTERACTIVE="INTERACTIVE",(Ut=Ct||(Ct={})).ASSET="ASSET",Ut.STYLE="STYLE",(Mt=Pt||(Pt={})).INSERT="INSERT",Mt.REMOVE="REMOVE",Mt.REMOVE_STATIC="REMOVE_STATIC",Mt.OUTPAINT="OUTPAINT",(jt=wt||(wt={})).OPTIMIZED="OPTIMIZED",jt.LOSSLESS="LOSSLESS",(Ht=Gt||(Gt={})).SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",Ht.PREFERENCE_TUNING="PREFERENCE_TUNING",(Bt=Ft||(Ft={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",Bt.STATE_PENDING="STATE_PENDING",Bt.STATE_ACTIVE="STATE_ACTIVE",Bt.STATE_FAILED="STATE_FAILED",(Vt=Yt||(Yt={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",Vt.PROCESSING="PROCESSING",Vt.ACTIVE="ACTIVE",Vt.FAILED="FAILED",(Kt=kt||(kt={})).SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",Kt.UPLOADED="UPLOADED",Kt.GENERATED="GENERATED",Kt.REGISTERED="REGISTERED",($t=qt||(qt={})).TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",$t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",$t.RESPONSE_REJECTED="RESPONSE_REJECTED",$t.NEED_MORE_INPUT="NEED_MORE_INPUT",(Wt=Jt||(Jt={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",Wt.TEXT="TEXT",Wt.IMAGE="IMAGE",Wt.VIDEO="VIDEO",Wt.AUDIO="AUDIO",Wt.DOCUMENT="DOCUMENT",(zt=Xt||(Xt={})).VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",zt.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",zt.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS",(Qt=Zt||(Zt={})).START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",Qt.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",Qt.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW",(tr=er||(er={})).END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",tr.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",tr.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW",(sr=rr||(rr={})).ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",sr.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",sr.NO_INTERRUPTION="NO_INTERRUPTION",(ar=nr||(nr={})).TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",ar.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",ar.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT",(or=ir||(ir={})).SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",or.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",or.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",or.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",or.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",or.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",or.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",or.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",or.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",or.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",or.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",or.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",or.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR",(cr=lr||(lr={})).MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",cr.QUALITY="QUALITY",cr.DIVERSITY="DIVERSITY",cr.VOCALIZATION="VOCALIZATION",(ur=dr||(dr={})).PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",ur.PLAY="PLAY",ur.PAUSE="PAUSE",ur.STOP="STOP",ur.RESET_CONTEXT="RESET_CONTEXT",(_r=Er||(Er={})).PAGED_ITEM_BATCH_JOBS="batchJobs",_r.PAGED_ITEM_MODELS="models",_r.PAGED_ITEM_TUNING_JOBS="tuningJobs",_r.PAGED_ITEM_FILES="files",_r.PAGED_ITEM_CACHED_CONTENTS="cachedContents",_r.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",_r.PAGED_ITEM_DOCUMENTS="documents","function"==typeof SuppressedError&&SuppressedError;let mr=function(){const{crypto:e}=globalThis;if(null==e?void 0:e.randomUUID)return mr=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^r()&15>>+e/4).toString(16))};function Nr(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Ar=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch(t){}try{return new Error(JSON.stringify(e))}catch(r){}}return new Error(e)};class Or extends Error{}class gr extends Or{constructor(e,t,r,s){super(`${gr.makeMessage(e,t,r)}`),this.status=e,this.headers=s,this.error=t}static makeMessage(e,t,r){const s=(null==t?void 0:t.message)?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,t,r,s){if(!e||!s)return new Rr({message:r,cause:Ar(t)});const n=t;return 400===e?new xr(e,n,r,s):401===e?new yr(e,n,r,s):403===e?new Dr(e,n,r,s):404===e?new vr(e,n,r,s):409===e?new Lr(e,n,r,s):422===e?new Cr(e,n,r,s):429===e?new Ur(e,n,r,s):e>=500?new Pr(e,n,r,s):new gr(e,n,r,s)}}class Sr extends gr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Rr extends gr{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class br extends Rr{constructor({message:e}={}){super({message:null!=e?e:"Request timed out."})}}class xr extends gr{}class yr extends gr{}class Dr extends gr{}class vr extends gr{}class Lr extends gr{}class Cr extends gr{}class Ur extends gr{}class Pr extends gr{}const Mr=/^[a-z][a-z0-9+.-]*:/i;let wr=e=>(wr=Array.isArray,wr(e));const jr=wr,Gr="0.0.1",Hr=()=>{var e,t,r,s,n;const a="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===a)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gr,"X-Stainless-OS":Br(Deno.build.os),"X-Stainless-Arch":Fr(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:null!==(t=null===(e=Deno.version)||void 0===e?void 0:e.deno)&&void 0!==t?t:"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===a)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gr,"X-Stainless-OS":Br(null!==(r=globalThis.process.platform)&&void 0!==r?r:"unknown"),"X-Stainless-Arch":Fr(null!==(s=globalThis.process.arch)&&void 0!==s?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":null!==(n=globalThis.process.version)&&void 0!==n?n:"unknown"};const i=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const e=r.exec(navigator.userAgent);if(e)return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}return null}();return i?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${i.browser}`,"X-Stainless-Runtime-Version":i.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}},Fr=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",Br=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let Yr;function Vr(...e){const t=globalThis.ReadableStream;if(void 0===t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function kr(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Vr({start(){},async pull(e){const{done:r,value:s}=await t.next();r?e.close():e.enqueue(s)},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}function Kr(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return(null==e?void 0:e.done)&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const qr=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),$r=()=>{var e;if("undefined"==typeof File){const{process:t}=globalThis,r="string"==typeof(null===(e=null==t?void 0:t.versions)||void 0===e?void 0:e.node)&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Jr(e,t,r){return $r(),new File(e,null!=t?t:"unknown_file",r)}const Wr=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer;async function Xr(e){var t,r,s,n,a;let i=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)i.push(e);else if(Wr(e))i.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator])(e)){const t=null===(a=null==e?void 0:e.constructor)||void 0===a?void 0:a.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";return`; props: [${Object.getOwnPropertyNames(e).map(e=>`"${e}"`).join(", ")}]`}(e)}`)}try{for(var o,l=!0,c=Tr(e);!(t=(o=await c.next()).done);l=!0){n=o.value,l=!1;const e=n;i.push(...await Xr(e))}}catch(d){r={error:d}}finally{try{l||t||!(s=c.return)||await s.call(c)}finally{if(r)throw r.error}}}return i}class zr{constructor(e){this._client=e}}function Zr(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}zr._key=[];const Qr=Object.freeze(Object.create(null)),es=((e=Zr)=>function(t,...r){if(1===t.length)return t[0];let s=!1;const n=[],a=t.reduce((t,a,i)=>{var o,l,c;/[?#]/.test(a)&&(s=!0);const d=r[i];let u=(s?encodeURIComponent:e)(""+d);return i!==r.length&&(null==d||"object"==typeof d&&d.toString===(null===(c=Object.getPrototypeOf(null!==(l=Object.getPrototypeOf(null!==(o=d.hasOwnProperty)&&void 0!==o?o:Qr))&&void 0!==l?l:Qr))||void 0===c?void 0:c.toString))&&(u=d+"",n.push({start:t.length+a.length,length:u.length,error:`Value of type ${Object.prototype.toString.call(d).slice(8,-1)} is not a valid path parameter`})),t+a+(i===r.length?"":u)},""),i=a.split(/[?#]/,1)[0],o=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let l;for(;null!==(l=o.exec(i));)n.push({start:l.index,length:l[0].length,error:`Value "${l[0]}" can't be safely passed as a path parameter`});if(n.sort((e,t)=>e.start-t.start),n.length>0){let e=0;const t=n.reduce((t,r)=>{const s=" ".repeat(r.start-e),n="^".repeat(r.length);return e=r.start+r.length,t+s+n},"");throw new Or(`Path parameters result in path with invalid segments:\n${n.map(e=>e.error).join("\n")}\n${a}\n${t}`)}return a})(Zr);class ts extends zr{create(e,t){var r;const{api_version:s=this._client.apiVersion}=e,n=pr(e,["api_version"]);if("model"in n&&"agent_config"in n)throw new Or("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in n&&"generation_config"in n)throw new Or("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(es`/${s}/interactions`,Object.assign(Object.assign({body:n},t),{stream:null!==(r=e.stream)&&void 0!==r&&r}))}delete(e,t={},r){const{api_version:s=this._client.apiVersion}=null!=t?t:{};return this._client.delete(es`/${s}/interactions/${e}`,r)}cancel(e,t={},r){const{api_version:s=this._client.apiVersion}=null!=t?t:{};return this._client.post(es`/${s}/interactions/${e}/cancel`,r)}get(e,t={},r){var s;const n=null!=t?t:{},{api_version:a=this._client.apiVersion}=n,i=pr(n,["api_version"]);return this._client.get(es`/${a}/interactions/${e}`,Object.assign(Object.assign({query:i},r),{stream:null!==(s=null==t?void 0:t.stream)&&void 0!==s&&s}))}}ts._key=Object.freeze(["interactions"]);class rs extends ts{}let ss,ns;function as(e){let t;return(null!=ss?ss:(t=new globalThis.TextEncoder,ss=t.encode.bind(t)))(e)}function is(e){let t;return(null!=ns?ns:(t=new globalThis.TextDecoder,ns=t.decode.bind(t)))(e)}class os{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?as(e):e;this.buffer=function(e){let t=0;for(const n of e)t+=n.length;const r=new Uint8Array(t);let s=0;for(const n of e)r.set(n,s),s+=n.length;return r}([this.buffer,t]);const r=[];let s;for(;null!=(s=ls(this.buffer,this.carriageReturnIndex));){if(s.carriage&&null==this.carriageReturnIndex){this.carriageReturnIndex=s.index;continue}if(null!=this.carriageReturnIndex&&(s.index!==this.carriageReturnIndex+1||s.carriage)){r.push(is(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const e=null!==this.carriageReturnIndex?s.preceding-1:s.preceding,t=is(this.buffer.subarray(0,e));r.push(t),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode("\n"):[]}}function ls(e,t){for(let r=null!=t?t:0;r<e.length;r++){if(10===e[r])return{preceding:r,index:r+1,carriage:!1};if(13===e[r])return{preceding:r,index:r+1,carriage:!0}}return null}function cs(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}os.NEWLINE_CHARS=new Set(["\n","\r"]),os.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const ds={off:0,error:200,warn:300,info:400,debug:500},us=(e,t,r)=>{var s,n;if(e)return s=ds,n=e,Object.prototype.hasOwnProperty.call(s,n)?e:void hs(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(ds))}`)};function Es(){}function _s(e,t,r){return!t||ds[e]>ds[r]?Es:t[e].bind(t)}const Is={error:Es,warn:Es,info:Es,debug:Es};let ps=new WeakMap;function hs(e){var t;const r=e.logger,s=null!==(t=e.logLevel)&&void 0!==t?t:"off";if(!r)return Is;const n=ps.get(r);if(n&&n[0]===s)return n[1];const a={error:_s("error",r,s),warn:_s("warn",r,s),info:_s("info",r,s),debug:_s("debug",r,s)};return ps.set(r,[s,a]),a}const fs=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"x-goog-api-key"===e.toLowerCase()||"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);class Ts{constructor(e,t,r){this.iterator=e,this.controller=t,this.client=r}static fromSSEResponse(e,t,r){let s=!1;const n=r?hs(r):console;return new Ts(function(){return fr(this,arguments,function*(){var r,a,i,o;if(s)throw new Or("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let l=!1;try{try{for(var c,d=!0,u=Tr(function(e,t){return fr(this,arguments,function*(){var r,s,n,a;if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new Or("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new Or("Attempted to iterate over a response with no body")}const i=new ms,o=new os,l=Kr(e.body);try{for(var c,d=!0,u=Tr(function(e){return fr(this,arguments,function*(){var t,r,s,n;let a=new Uint8Array;try{for(var i,o=!0,l=Tr(e);!(t=(i=yield hr(l.next())).done);o=!0){n=i.value,o=!1;const e=n;if(null==e)continue;const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?as(e):e;let r,s=new Uint8Array(a.length+t.length);for(s.set(a),s.set(t,a.length),a=s;-1!==(r=cs(a));)yield yield hr(a.slice(0,r)),a=a.slice(r)}}catch(c){r={error:c}}finally{try{o||t||!(s=l.return)||(yield hr(s.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield hr(a))})}(l));!(r=(c=yield hr(u.next())).done);d=!0){a=c.value,d=!1;const e=a;for(const t of o.decode(e)){const e=i.decode(t);e&&(yield yield hr(e))}}}catch(E){s={error:E}}finally{try{d||r||!(n=u.return)||(yield hr(n.call(u)))}finally{if(s)throw s.error}}for(const e of o.flush()){const t=i.decode(e);t&&(yield yield hr(t))}})}(e,t));!(r=(c=yield hr(u.next())).done);d=!0){o=c.value,d=!1;const e=o;if(!l)if(e.data.startsWith("[DONE]"))l=!0;else try{yield yield hr(JSON.parse(e.data))}catch(E){throw n.error("Could not parse message into JSON:",e.data),n.error("From chunk:",e.raw),E}}}catch(_){a={error:_}}finally{try{d||r||!(i=u.return)||(yield hr(i.call(u)))}finally{if(a)throw a.error}}l=!0}catch(E){if(Nr(E))return yield hr(void 0);throw E}finally{l||t.abort()}})},t,r)}static fromReadableStream(e,t,r){let s=!1;return new Ts(function(){return fr(this,arguments,function*(){var r,n,a,i;if(s)throw new Or("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{try{for(var l,c=!0,d=Tr(function(){return fr(this,arguments,function*(){var t,r,s,n;const a=new os,i=Kr(e);try{for(var o,l=!0,c=Tr(i);!(t=(o=yield hr(c.next())).done);l=!0){n=o.value,l=!1;const e=n;for(const t of a.decode(e))yield yield hr(t)}}catch(d){r={error:d}}finally{try{l||t||!(s=c.return)||(yield hr(s.call(c)))}finally{if(r)throw r.error}}for(const e of a.flush())yield yield hr(e)})}());!(r=(l=yield hr(d.next())).done);c=!0){i=l.value,c=!1;const e=i;o||e&&(yield yield hr(JSON.parse(e)))}}catch(u){n={error:u}}finally{try{c||r||!(a=d.return)||(yield hr(a.call(d)))}finally{if(n)throw n.error}}o=!0}catch(E){if(Nr(E))return yield hr(void 0);throw E}finally{o||t.abort()}})},t,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),s=s=>({next:()=>{if(0===s.length){const s=r.next();e.push(s),t.push(s)}return s.shift()}});return[new Ts(()=>s(e),this.controller,this.client),new Ts(()=>s(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return Vr({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:s}=await t.next();if(s)return e.close();const n=as(JSON.stringify(r)+"\n");e.enqueue(n)}catch(r){e.error(r)}},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}}class ms{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,s]=function(e){const t=e.indexOf(":");return-1!==t?[e.substring(0,t),":",e.substring(t+1)]:[e,"",""]}(e);return s.startsWith(" ")&&(s=s.substring(1)),"event"===t?this.event=s:"data"===t&&this.data.push(s),null}}async function Ns(e,t){const{response:r,requestLogID:s,retryOfRequestLogID:n,startTime:a}=t,i=await(async()=>{var s;if(t.options.stream)return hs(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,e):Ts.fromSSEResponse(r,t.controller,e);if(204===r.status)return null;if(t.options.__binaryResponse)return r;const n=r.headers.get("content-type"),a=null===(s=null==n?void 0:n.split(";")[0])||void 0===s?void 0:s.trim();return(null==a?void 0:a.includes("application/json"))||(null==a?void 0:a.endsWith("+json"))?await r.json():await r.text()})();return hs(e).debug(`[${s}] response parsed`,fs({retryOfRequestLogID:n,url:r.url,status:r.status,body:i,durationMs:Date.now()-a})),i}class As extends Promise{constructor(e,t,r=Ns){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new As(this.client,this.responsePromise,async(t,r)=>e(await this.parseResponse(t,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}const Os=Symbol("brand.privateNullableHeaders");function*gs(e){if(!e)return;if(Os in e){const{values:t,nulls:r}=e;yield*t.entries();for(const e of r)yield[e,null];return}let t,r=!1;e instanceof Headers?t=e.entries():jr(e)?t=e:(r=!0,t=Object.entries(null!=e?e:{}));for(let s of t){const e=s[0];if("string"!=typeof e)throw new TypeError("expected header name to be a string");const t=jr(s[1])?s[1]:[s[1]];let n=!1;for(const s of t)void 0!==s&&(r&&!n&&(n=!0,yield[e,null]),yield[e,s])}}const Ss=e=>{const t=new Headers,r=new Set;for(const s of e){const e=new Set;for(const[n,a]of gs(s)){const s=n.toLowerCase();e.has(s)||(t.delete(n),e.add(s)),null===a?(t.delete(n),r.add(s)):(t.append(n,a),r.delete(s))}}return{[Os]:!0,values:t,nulls:r}},Rs=e=>{var t,r,s,n,a,i;return void 0!==globalThis.process?null!==(s=null===(r=null===(t=Ir)||void 0===t?void 0:t[e])||void 0===r?void 0:r.trim())&&void 0!==s?s:void 0:void 0!==globalThis.Deno?null===(i=null===(a=null===(n=globalThis.Deno.env)||void 0===n?void 0:n.get)||void 0===a?void 0:a.call(n,e))||void 0===i?void 0:i.trim():void 0};var bs;class xs{constructor(e){var t,r,s,n,a,i,o,{baseURL:l=Rs("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(null!==(t=Rs("GEMINI_API_KEY"))&&void 0!==t?t:null),apiVersion:d="v1beta"}=e,u=pr(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:c,apiVersion:d},u),{baseURL:l||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=null!==(r=E.timeout)&&void 0!==r?r:xs.DEFAULT_TIMEOUT,this.logger=null!==(s=E.logger)&&void 0!==s?s:console;const _="warn";this.logLevel=_,this.logLevel=null!==(a=null!==(n=us(E.logLevel,"ClientOptions.logLevel",this))&&void 0!==n?n:us(Rs("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))&&void 0!==a?a:_,this.fetchOptions=E.fetchOptions,this.maxRetries=null!==(i=E.maxRetries)&&void 0!==i?i:2,this.fetch=null!==(o=E.fetch)&&void 0!==o?o:function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),this.encoder=qr,this._options=E,this.apiKey=c,this.apiVersion=d,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return"https://generativelanguage.googleapis.com"!==this.baseURL}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!e.has("authorization")&&!e.has("x-goog-api-key")&&!(this.apiKey&&e.get("x-goog-api-key")||t.has("x-goog-api-key")))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=Ss([e.headers]);if(!t.values.has("authorization")&&!t.values.has("x-goog-api-key"))return this.apiKey?Ss([{"x-goog-api-key":this.apiKey}]):this.clientAdapter.isVertexAI()?Ss([await this.clientAdapter.getAuthHeaders()]):void 0}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new Or(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Gr}`}defaultIdempotencyKey(){return`stainless-node-retry-${mr()}`}makeStatusError(e,t,r,s){return gr.generate(e,t,r,s)}buildURL(e,t,r){const s=!this.baseURLOverridden()&&r||this.baseURL,n=(e=>Mr.test(e))(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return function(e){if(!e)return!0;for(const t in e)return!1;return!0}(a)||(t=Object.assign(Object.assign({},a),t)),"object"==typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:r}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(r=>Object.assign({method:e,path:t},r)))}request(e,t=null){return new As(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,r){var s,n,a;const i=await e,o=null!==(s=i.maxRetries)&&void 0!==s?s:this.maxRetries;null==t&&(t=o),await this.prepareOptions(i);const{req:l,url:c,timeout:d}=await this.buildRequest(i,{retryCount:o-t});await this.prepareRequest(l,{url:c,options:i});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=void 0===r?"":`, retryOf: ${r}`,_=Date.now();if(hs(this).debug(`[${u}] sending request`,fs({retryOfRequestLogID:r,method:i.method,url:c,options:i,headers:l.headers})),null===(n=i.signal)||void 0===n?void 0:n.aborted)throw new Sr;const I=new AbortController,p=await this.fetchWithTimeout(c,l,d,I).catch(Ar),h=Date.now();if(p instanceof globalThis.Error){const e=`retrying, ${t} attempts remaining`;if(null===(a=i.signal)||void 0===a?void 0:a.aborted)throw new Sr;const s=Nr(p)||/timed? ?out/i.test(String(p)+("cause"in p?String(p.cause):""));if(t)return hs(this).info(`[${u}] connection ${s?"timed out":"failed"} - ${e}`),hs(this).debug(`[${u}] connection ${s?"timed out":"failed"} (${e})`,fs({retryOfRequestLogID:r,url:c,durationMs:h-_,message:p.message})),this.retryRequest(i,t,null!=r?r:u);if(hs(this).info(`[${u}] connection ${s?"timed out":"failed"} - error; no more retries left`),hs(this).debug(`[${u}] connection ${s?"timed out":"failed"} (error; no more retries left)`,fs({retryOfRequestLogID:r,url:c,durationMs:h-_,message:p.message})),s)throw new br;throw new Rr({cause:p})}const f=`[${u}${E}] ${l.method} ${c} ${p.ok?"succeeded":"failed"} with status ${p.status} in ${h-_}ms`;if(!p.ok){const e=await this.shouldRetry(p);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await async function(e){var t,r;if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void(await(null===(r=(t=e[Symbol.asyncIterator]()).return)||void 0===r?void 0:r.call(t)));const s=e.getReader(),n=s.cancel();s.releaseLock(),await n}(p.body),hs(this).info(`${f} - ${e}`),hs(this).debug(`[${u}] response error (${e})`,fs({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:h-_})),this.retryRequest(i,t,null!=r?r:u,p.headers)}const s=e?"error; no more retries left":"error; not retryable";hs(this).info(`${f} - ${s}`);const n=await p.text().catch(e=>Ar(e).message),a=(e=>{try{return JSON.parse(e)}catch(t){return}})(n),o=a?void 0:n;throw hs(this).debug(`[${u}] response error (${s})`,fs({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,message:o,durationMs:Date.now()-_})),this.makeStatusError(p.status,a,o,p.headers)}return hs(this).info(f),hs(this).debug(`[${u}] response start`,fs({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:h-_})),{response:p,options:i,controller:I,requestLogID:u,retryOfRequestLogID:r,startTime:_}}async fetchWithTimeout(e,t,r,s){const n=t||{},{signal:a,method:i}=n,o=pr(n,["signal","method"]);a&&a.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r),c=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||"object"==typeof o.body&&null!==o.body&&Symbol.asyncIterator in o.body,d=Object.assign(Object.assign(Object.assign({signal:s.signal},c?{duplex:"half"}:{}),{method:"GET"}),o);i&&(d.method=i.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(l)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||e.status>=500)}async retryRequest(e,t,r,s){var n;let a;const i=null==s?void 0:s.get("retry-after-ms");if(i){const e=parseFloat(i);Number.isNaN(e)||(a=e)}const o=null==s?void 0:s.get("retry-after");if(o&&!a){const e=parseFloat(o);a=Number.isNaN(e)?Date.parse(o)-Date.now():1e3*e}if(!(a&&0<=a&&a<6e4)){const r=null!==(n=e.maxRetries)&&void 0!==n?n:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(t,r)}var l;return await(l=a,new Promise(e=>setTimeout(e,l))),this.makeRequest(e,t-1,r)}calculateDefaultRetryTimeoutMillis(e,t){const r=t-e;return Math.min(.5*Math.pow(2,r),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){var r,s,n;const a=Object.assign({},e),{method:i,path:o,query:l,defaultBaseURL:c}=a,d=this.buildURL(o,l,c);"timeout"in a&&((e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new Or(`${e} must be an integer`);if(t<0)throw new Or(`${e} must be a positive integer`)})("timeout",a.timeout),a.timeout=null!==(r=a.timeout)&&void 0!==r?r:this.timeout;const{bodyHeaders:u,body:E}=this.buildBody({options:a}),_=await this.buildHeaders({options:e,method:i,bodyHeaders:u,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:i,headers:_},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),null!==(s=this.fetchOptions)&&void 0!==s?s:{}),null!==(n=a.fetchOptions)&&void 0!==n?n:{}),url:d,timeout:a.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:r,retryCount:s}){let n={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),n[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let i=Ss([n,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),null!=Yr?Yr:Yr=Hr()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(i),i.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Ss([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:kr(e)}:this.encoder({body:e,headers:r})}}xs.DEFAULT_TIMEOUT=6e4;class ys extends xs{constructor(){super(...arguments),this.interactions=new rs(this)}}bs=ys,ys.GeminiNextGenAPIClient=bs,ys.GeminiNextGenAPIClientError=Or,ys.APIError=gr,ys.APIConnectionError=Rr,ys.APIConnectionTimeoutError=br,ys.APIUserAbortError=Sr,ys.NotFoundError=vr,ys.ConflictError=Lr,ys.RateLimitError=Ur,ys.BadRequestError=xr,ys.AuthenticationError=yr,ys.InternalServerError=Pr,ys.PermissionDeniedError=Dr,ys.UnprocessableEntityError=Cr,ys.toFile=async function(e,t,r){if($r(),(e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&Wr(e))(e=await e))return e instanceof File?e:Jr([await e.arrayBuffer()],e.name);if((e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob)(e)){const s=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Jr(await Xr(s),t,r)}const s=await Xr(e);if(t||(t=function(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}(e)),!(null==r?void 0:r.type)){const e=s.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(r=Object.assign(Object.assign({},r),{type:e}))}return Jr(s,t,r)},ys.Interactions=rs;{const e=[];e.push("VITE_SUPABASE_URL"),e.push("VITE_SUPABASE_ANON_KEY");const t=`⚠️ Configuration Supabase manquante: ${e.join(", ")}. Ajoutez-les dans .env.production.local puis: npm run build && npm run preview`;throw new Error(t)}export{ae as A,ie as L,le as M,oe as P,useProducts as a,ee as j,useTestimonials as u};
